[gd_scene load_steps=11 format=1]

[ext_resource path="res://scripts/gameplay.gd" type="Script" id=1]
[ext_resource path="res://resources/scenes/stage_1.tscn" type="PackedScene" id=2]
[ext_resource path="res://resources/assets/tilesets/platformer_tileset_template.xml" type="TileSet" id=3]
[ext_resource path="res://resources/scenes/key.tscn" type="PackedScene" id=4]
[ext_resource path="res://resources/scenes/door.tscn" type="PackedScene" id=5]
[ext_resource path="res://resources/scenes/player.tscn" type="PackedScene" id=6]
[ext_resource path="res://resources/assets/bgm/house.ogg" type="AudioStream" id=7]
[ext_resource path="res://resources/assets/sfx/samples/confirmation.smp" type="Sample" id=8]
[ext_resource path="res://resources/assets/sfx/samples/throw.smp" type="Sample" id=9]

[sub_resource type="SampleLibrary" id=1]

samples/confirmation = { "db":0.0, "pitch":1.0, "sample":ExtResource( 8 ) }
samples/throw = { "db":0.0, "pitch":1.0, "sample":ExtResource( 9 ) }

[node name="Main" type="Node"]

script/script = ExtResource( 1 )

[node name="BasicTilemap" parent="." instance=ExtResource( 2 )]

collision/layers = 3
collision/mask = 3

[node name="BreakableTilemap" type="TileMap" parent="BasicTilemap" groups=[ "breakable_block" ]]

mode = 0
tile_set = ExtResource( 3 )
cell/size = Vector2( 32, 32 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 3
collision/mask = 3
occluder/light_mask = 1
tile_data = IntArray( -327774, 16, -262238, 16, -196702, 16, -131166, 16, -65630, 16 )

[node name="Key1" parent="." instance=ExtResource( 4 )]

transform/pos = Vector2( -3024, -48 )

[node name="Door1" parent="." instance=ExtResource( 5 )]

transform/pos = Vector2( -2288, -53 )
target_path = NodePath("../Door1Target")

[node name="Door1Target" type="Node2D" parent="."]

[node name="Key2" parent="." instance=ExtResource( 4 )]

transform/pos = Vector2( -496, -336 )

[node name="Door2" parent="." instance=ExtResource( 5 )]

transform/pos = Vector2( 1520, 523 )
target_path = NodePath("../Door2Target")

[node name="Door2Target" type="Node2D" parent="."]

transform/pos = Vector2( 2863, 523 )

[node name="Key3" parent="." instance=ExtResource( 4 )]

transform/pos = Vector2( 2800, 528 )

[node name="Door3" parent="." instance=ExtResource( 5 )]

transform/pos = Vector2( 3088, 524 )

[node name="Player" parent="." instance=ExtResource( 6 )]

transform/pos = Vector2( -2658, -88 )

[node name="StreamPlayer" type="StreamPlayer" parent="."]

stream/stream = ExtResource( 7 )
stream/play = false
stream/loop = true
stream/volume_db = 0.0
stream/autoplay = true
stream/paused = false
stream/loop_restart_time = 0.0
stream/buffering_ms = 500

[node name="SamplePlayer" type="SamplePlayer" parent="."]

config/polyphony = 1
config/samples = SubResource( 1 )
default/volume_db = 0.0
default/pitch_scale = 1.0
default/pan = 0.0
default/depth = 0.0
default/height = 0.0
default/filter/type = 0
default/filter/cutoff = 5000.0
default/filter/resonance = 1.0
default/filter/gain = 1.0
default/reverb_room = 2
default/reverb_send = 0.0
default/chorus_send = 0.0


